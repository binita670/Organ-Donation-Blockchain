extends ../nav

block content
  include sidehospital

  <div class="col-8">
  <div class="card"   >
    <div class="card-header"><h2>Appointment For Organ Test</h2>
    </div>
    <div class="card-body">
      <div >
        -if(checkups.length > 0)
          <table class="table">
            <thead class="black white-text">
              <tr>
                <th scope="col">SN</th>
                <th scope="col">Donor</th>
                <th scope="col">Organ</th>
                <th scope="col">Action</th>
              </tr>
            </thead>
            <tbody>
              -let i=0;
                each checkup in checkups 
                      <tr>
                        <th scope="row">#{++i}</th>
                        <td> <p><b>Name:</b> #{checkup.donor.firstName} #{checkup.donor.lastName}</p> 
                          <p><strong>Address:</strong> #{checkup.donor.address}</p>
                          <p><b>Gender:</b> #{checkup.donor.gender}</p>
                          <p><b>Contact No:</b> #{checkup.donor.contactNo}</p>
                        </td>
                        <td>#{checkup.organName}</td>
                        
                        <td>
                          <div class="modal fade" id="modalLoginForm" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                            <div class="modal-dialog" role="document">
                              <div class="modal-content">
                                <div class="modal-header text-center">
                                  <h4 class="modal-title w-100 font-weight-bold">Medical Details</h4>
                                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                  </button>
                                </div>
                                  <div class="modal-body mx-3">
                                    <div class="md-form mb-5">
                                      input.form-control(type='text' placeholder='BloodType' id='bloodType')
                                      small#ffname(style='color: red')
                                      input.form-control(type='text' placeholder='Protein 1' id='proteinOne')
                                      small#llname(style='color: red')
                                      //label Protein2
                                      input.form-control(type='text' placeholder='Protein 2' id='proteinTwo')
                                      small#ffname(style='color: red')
                                      input.form-control(type='text' placeholder='Doctor' id='doctor')
                                      small#llname(style='color: red')
                                    </div>
                                  </div>
                                  <div class="modal-footer d-flex justify-content-center">  
                                    button(class="btn btn-default" id="mainIdBtn") Submit Medical Details
                                  </div>
                              </div>
                            </div>
                          </div>

                          <div class="text-center">
                            //- - console.log(checkup.organName)
                            //- input(type="hidden" name="organid" data-mainid=`${checkup.organName}`)
                            button(class="btn btn-success" data-toggle="modal" data-target="#modalLoginForm" data-organid=`${checkup.organId}` id="submitdetails") Accept
                            form(action="/hospital/submitmedicaldetails" method="post")
                              input(type="hidden" name="organid" value=`${organId}`)
                              <button class="btn btn-danger" type="submit">Reject</button>
                          </div>

                        </td>
                      </tr>
            </tbody>
            </table>
      </div>
      </div>
  </div>
  </div>
  </div>
  </div>

  